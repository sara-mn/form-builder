import{a as T}from"./chunk-YCO7AOUO.js";import{c as w,d as u,f as B,g as O,h as I,j as U,k as A,l as J,o as P,p as $,q as H}from"./chunk-74CUJTU5.js";import{h as j,ya as F,z as D}from"./chunk-OX6C3SLE.js";import{$a as m,Db as f,Ea as n,Fb as c,Ja as G,O as M,P as C,Pa as x,Qa as v,T as N,Ua as V,a as S,eb as q,hb as L,ib as k,jb as a,kb as r,lb as p,ma as E,rb as R,sb as d,vb as o}from"./chunk-5SLE4KKV.js";var y=class t{constructor(i){this.formBuilder=i}createForm(i){let e={};return i.forEach(l=>{e[l.name]=new I(null,this.getValidators(l.validation))}),this.formBuilder.group(S({},e))}getValidators(i){let e=[];return i?.required&&e.push(u.required),i?.minLength!==void 0&&e.push(u.minLength(i.minLength)),i?.maxLength!==void 0&&e.push(u.maxLength(i.maxLength)),i?.min!==void 0&&e.push(u.min(i.min)),i?.max!==void 0&&e.push(u.max(i.max)),i?.email&&e.push(u.email),i?.pattern&&e.push(u.pattern(i.pattern)),e}static \u0275fac=function(e){return new(e||t)(N(P))};static \u0275prov=M({token:t,factory:t.\u0275fac})};function X(t,i){if(t&1&&(a(0,"div")(1,"label",0),f(2),r(),p(3,"input",1),r()),t&2){let e=d();n(),o("for",e.field.name),n(),c("",e.field.label,": "),n(),o("id",e.field.name),o("type",e.field.type),m("formControl",e.formControl)}}function Y(t,i){if(t&1&&(a(0,"div")(1,"label",0),f(2),r(),p(3,"input",1),r()),t&2){let e=d();n(),o("for",e.field.name),n(),c("",e.field.label,": "),n(),o("id",e.field.name),o("type",e.field.type),m("formControl",e.formControl)}}function Z(t,i){if(t&1&&(a(0,"div")(1,"label",0),f(2),r(),p(3,"input",1),r()),t&2){let e=d();n(),o("for",e.field.name),n(),c("",e.field.label,": "),n(),o("id",e.field.name),o("type",e.field.type),m("formControl",e.formControl)}}function ee(t,i){if(t&1&&(a(0,"div")(1,"label",0),f(2),r(),p(3,"input",1),r()),t&2){let e=d();n(),o("for",e.field.name),n(),c("",e.field.label,": "),n(),o("id",e.field.name),o("type",e.field.type),m("formControl",e.formControl)}}function te(t,i){if(t&1&&(a(0,"div")(1,"label",0),f(2),r(),p(3,"input",1),r()),t&2){let e=d();n(),o("for",e.field.name),n(),c("",e.field.label,": "),n(),o("id",e.field.name),o("type",e.field.type),m("formControl",e.formControl)}}function ie(t,i){if(t&1&&(a(0,"div")(1,"label",0),f(2),r(),p(3,"input",1),r()),t&2){let e=d();n(),o("for",e.field.name),n(),c("",e.field.label,": "),n(),o("id",e.field.name),o("type",e.field.type),m("formControl",e.formControl)}}function ne(t,i){if(t&1&&(a(0,"div")(1,"label",0),f(2),r(),p(3,"input",1),r()),t&2){let e=d();n(),o("for",e.field.name),n(),c("",e.field.label,": "),n(),o("id",e.field.name),o("type",e.field.type),m("formControl",e.formControl)}}function oe(t,i){if(t&1&&(a(0,"div")(1,"label",0),f(2),r(),p(3,"input",1),r()),t&2){let e=d();n(),o("for",e.field.name),n(),c("",e.field.label,": "),n(),o("id",e.field.name),o("type",e.field.type),m("formControl",e.formControl)}}function re(t,i){if(t&1&&(a(0,"div")(1,"label",0),f(2),r(),p(3,"input",1),r()),t&2){let e=d();n(),o("for",e.field.name),n(),c("",e.field.label,": "),n(),o("id",e.field.name),o("type",e.field.type),m("formControl",e.formControl)}}function le(t,i){if(t&1&&(a(0,"div")(1,"label",0),f(2),r(),p(3,"input",1),r()),t&2){let e=d();n(),o("for",e.field.name),n(),c("",e.field.label,": "),n(),o("id",e.field.name),o("type",e.field.type),m("formControl",e.formControl)}}var g=class t{initialConfig={name:"name",label:"label",type:"text"};fieldTypeEnum=T;fieldInput=E(this.initialConfig,{alias:"field"});formControlInput=E(new I(""),{alias:"form-control"});field;formControl;constructor(){}ngOnInit(){this.field=this.fieldInput(),this.formControl=this.formControlInput()}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=x({type:t,selectors:[["app-dynamic-field"]],inputs:{fieldInput:[1,"field","fieldInput"],formControlInput:[1,"form-control","formControlInput"]},standalone:!1,decls:10,vars:1,consts:[[3,"for"],[3,"id","type","formControl"]],template:function(e,l){if(e&1&&V(0,X,4,5,"div")(1,Y,4,5,"div")(2,Z,4,5,"div")(3,ee,4,5,"div")(4,te,4,5,"div")(5,ie,4,5,"div")(6,ne,4,5,"div")(7,oe,4,5,"div")(8,re,4,5,"div")(9,le,4,5,"div"),e&2){let s;q((s=l.field.type)===l.fieldTypeEnum.Text?0:s===l.fieldTypeEnum.Number?1:s===l.fieldTypeEnum.Select?2:s===l.fieldTypeEnum.Textarea?3:s===l.fieldTypeEnum.Checkbox?4:s===l.fieldTypeEnum.Radio?5:s===l.fieldTypeEnum.Date?6:s===l.fieldTypeEnum.DateRange?7:s===l.fieldTypeEnum.Html?8:9)}},dependencies:[w,B,A],encapsulation:2})};var me=(t,i)=>i.name;function pe(t,i){if(t&1&&p(0,"app-dynamic-field",1),t&2){let e=i.$implicit,l=d();m("field",e)("form-control",l.form.controls[e.name])}}function de(t,i){t&1&&(a(0,"span"),f(1,"There are no field."),r())}var b=class t{constructor(i){this.formCreatorService=i}formJson={fields:[{name:"firstName",label:"\u0646\u0627\u0645",type:"text",required:!0,validation:{minLength:3,maxLength:15,required:!0},access:["guest","user"]},{name:"lastName",label:"\u0646\u0627\u0645 \u062E\u0627\u0646\u0648\u0627\u062F\u06AF\u06CC",type:"text",required:!0,validation:{minLength:3,maxLength:15,required:!0},access:["guest","user"]},{name:"nationalCode",label:"\u06A9\u062F \u0645\u0644\u06CC",type:"number",required:!0,validation:{required:!0},access:["guest","user"]},{name:"gender",label:"\u062C\u0646\u0633\u06CC\u062A",type:"select",required:!0,validation:{required:!1},access:["guest","user"],options:[{key:"male",value:"\u0645\u0631\u062F"},{key:"female",value:"\u0632\u0646"}]}],id:"1",title:"initial form"};form;ngOnInit(){this.form=this.formCreatorService.createForm(this.formJson.fields)}onSubmit(){this.form.invalid}static \u0275fac=function(e){return new(e||t)(G(y))};static \u0275cmp=x({type:t,selectors:[["app-dynamic-form"]],standalone:!1,decls:5,vars:2,consts:[[3,"formGroup"],[3,"field","form-control"],["label","Submit",3,"click"]],template:function(e,l){e&1&&(a(0,"form",0),L(1,pe,1,2,"app-dynamic-field",1,me,!1,de,2,0,"span"),a(4,"p-button",2),R("click",function(){return l.onSubmit()}),r()()),e&2&&(m("formGroup",l.form),n(),k(l.formJson.fields))},dependencies:[U,O,J,F,g],encapsulation:2})};var fe=[{path:"",component:b}],h=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=v({type:t});static \u0275inj=C({imports:[D.forChild(fe),D]})};var K=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=v({type:t});static \u0275inj=C({providers:[y],imports:[j,h,H,$,F]})};export{K as FormRendererModule};
